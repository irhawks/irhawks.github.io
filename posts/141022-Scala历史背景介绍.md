---
title : Scala介绍（第二版资料）
date : 2014-11-22
author : irhawks
tags : scala, 简介, 历史
references:
- id: odersky2008programming
  type: book
  author:
  - family: Odersky
    given: Martin
  - family: Spoon
    given: Lex
  - family: Venners
    given: Bill
  issued:
  - year: '2008'
  title: Programming in scala
  publisher: Artima Inc
---

使用了这么久的Scala，对于Scala就又有了新的认识。觉得Scala还是一种普通的语言。它有它支持的编程范式。其实编程范式是属于思维方式问题，可以跟编程语言亳无关系。面对对象的程序设计，其实与面向对象的软件工程没有什么关系。因为软件工程的重点在软件系统上。

Scala的IDE需要在Eclipse中实现，这让人实在很头疼。一方面计算机没有足够的性能运行大型的程序，另一方面，自己也不想使用大型的软件了。很多大型软件的设计，其实根本就没有必要。软件设计的最高境界，就是软件本身作为一种语言被人使用着。

Simula 67是第一种面向对象的语言应该是可以接受的（而非Smalltalk），现在回过头来发现，其实面向对象的设计其实就是模拟现实世界，不然，也不会在与软件工程结合得那么紧密。很多软件是我们不曾接触到的。像军工等东西，应用的技术我们听都没听过，更不用说研究了。但是它们确确实实存在着，我们也得正视其存在。虽然我们现在没有那样的实验条件，但是我们也得认可Simula 67与Ada等是一种实际存在的语言。

Scala编程语言
---------------------------------------------------------

Scala是一门多范式（函数式，面向对象）的编程语言，设计初衷是要集成面向对象编程与函数式编程的各种特性。

### 平台和许可证

Scala运行于Java平台（Java虚拟机），并兼容现有的Java程序。它也能运行于CLDC配置的Java ME中。目前还有另一.NET平台的实现，不过该版本更新有些滞后。

Scala的编译模型（独立编译，动态类加载）与Java和C\#一样，所以Scala代码可以调用Java类库（对于.NET实现则可调用.NET类库）。

Scala包包括编译器和类库，以BSD许可证发布。

### Scala的历史

洛桑联邦理工学院的Martin Odersky于2001年基于Funnel的工作开始设计Scala。Funnel是把函数式编程思想和佩特里网相结合的一种编程语言。Odersky先前的工作是Generic Java和javac。Java平台的Scala于2003年底/2004年初发布。.NET平台的Scala发布于2004年6月。该语言第二个版本，v2.0，发布于2006年3月。

Scala 2.8的特性包括重写的Scala容器库、命名参数和默认参数、包对象，以及Continuation。

2012年1月，发布版本2.9.1。

2012年4月，发布版本2.9.2。

### 特性

面向对象特性

Scala是一种纯面向对象的语言，每个值都是对象。对象的数据类型以及行为由类和特质描述。类抽象机制的扩展有两种途径。一种途径是子类继承，另一种途径是灵活的混入机制。这两种途径能避免多重继承的种种问题。
函数式编程

Scala也是一种函数式语言，其函数也能当成值来使用。Scala提供了轻量级的语法用以定义匿名函数，支持高阶函数，允许嵌套多层函数，并支持柯里化。Scala的case
class及其内置的模式匹配相当于函数式编程语言中常用的代数类型。

更进一步，程序员可以利用Scala的模式匹配，编写类似正则表达式的代码处理XML数据。在这些情形中，列表推导式功能对编写公式化查询非常有用。

由于JVM不支持尾调用，Scala也不能完全支持尾调用优化。不过，Scala编译器可以把某些简单的尾递归优化成循环。

以下代码以函数式风格实现了快速排序算法，可以与Erlang快速排序的例子做个比较：

``` {.sourceCode .scala}
def qsort(list: List[Int]): List[Int] = {
    case Nil => Nil
    case pivot :: tail =>
    val(smaller, rest) = tail.partition(_ < pivot)
    qsort(smaller) ::: pivot :: qsort(rest)
}
```

静态类型

Scala具备类型系统，通过编译时检查，保证代码的安全性和一致性。类型系统具体支持以下特性：

1.  泛型类，
2.  协变和逆变，
3.  标注，
4.  类型参数的上下限约束，
5.  把类别和抽象类型作为对象成员，
6.  复合类型，
7.  引用自己时显式指定类型，
8.  视图，
9.  多态方法。

扩展性

Scala的设计秉承一项事实，即在实践中，某个领域特定的应用程序开发往往需要特定于该领域的语言扩展。Scala提供了许多独特的语言机制，可以以库的形式轻易无缝添加新的语言结构：任何方法可用作前缀或后缀操作符，可以根据预期类型自动构造闭包。

联合使用以上两个特性，使你可以定义新的语句而无须扩展语法也无须使用宏之类的元编程特性。

并发性

Scala使用Actor作为其并发模型，Actor是类似线程的实体，通过邮箱发收消息。Actor可以复用线程，因此可以在程序中可以使用数百万个Actor,而线程只能创建数千个。在2.10之后的版本中，使用Akka作为其默认Actor实现。
以下代码是使用Actor模式的EchoServer实现:

``` {.sourceCode .scala}
val echoServer = actor(new Act {
  become {
    case msg => println("echo " + msg)
  }
})
echoServer ! "hi"
```

Actor模式可以简化并发编程，好利用多核CPU的能力。

### 程序与编译

Scala的编译和执行模型与Java是等效的，因而它也兼容于Java的构建工具，比如Ant.

直接使用Scala解释器也可以运行该程序，使用选项-i（从文件加载代码）和选项-e（若要运行额外的代码，就得实际执行HelloWorld对象的方法）即可。

Scala的测试工具有ScalaTest与ScalaCheck，后者类似于Haskell的QuickCheck库。

Scala的标准书籍是Odersky的《Programming in Scala》,见[@odersky2008programming]。


